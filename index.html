<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Live Ranking</title>

<style>
body {
  margin: 0;
  background: transparent;
  font-family: Arial, sans-serif;
}

#board {
  width: 260px; /* جعلناه أقل عرضًا */
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 5px;
}

.player {
  padding: 10px 12px;
  border-radius: 14px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: bold;
  font-size: 14px;
  background: #111;
  color: white;
}

/* الأوائل */
.top1 { background: linear-gradient(45deg, #FFD700, #FFB700); color: black; }
.top2 { background: linear-gradient(45deg, #C0C0C0, #A9A9A9); color: black; }
.top3 { background: linear-gradient(45deg, #CD7F32, #B87333); color: black; }
.normal { background:#111; color:white; }

.name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 150px;
}

.points {
  margin-left: 10px;
}
</style>
</head>

<body>

<div id="board"></div>

<script>

/* ضع هنا رابط JSON من simple.ink (Notion) */
const DATA_URL = "ضع_هنا_الرابط";

async function loadPlayers(){
  try {
    const res = await fetch(DATA_URL);
    const data = await res.json();

    const players = data.map(p => ({
      name: p.Name,
      points: parseInt(p.Points)
    })).sort((a,b)=> b.points - a.points);

    const board = document.getElementById("board");
    board.innerHTML = "";

    players.forEach((p, i) => {
      const div = document.createElement("div");

      if(i === 0) div.className = "player top1";
      else if(i === 1) div.className = "player top2";
      else if(i === 2) div.className = "player top3";
      else div.className = "player normal";

      div.innerHTML = `
        <span class="name">TOP ${i+1} - ${p.name}</span>
        <span class="points">${p.points}</span>
      `;

      board.appendChild(div);
    });

  } catch(e){
    console.log("Error loading data", e);
  }
}

/* يحدث كل 5 ثواني تلقائياً */
setInterval(loadPlayers, 5000);
loadPlayers();

</script>

</body>
</html>
